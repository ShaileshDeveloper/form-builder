{"ast":null,"code":"/**\r\n* util.js\r\n*\r\n* Copyright (c) 2012-2019 mooster@42at.com\r\n* https://github.com/moos/wordpos\r\n*\r\n* Released under MIT license\r\n*/\n\nlet stopwords = require('../lib/natural/util/stopwords').words;\nlet stopwordsStr = makeStopwordString(stopwords);\nfunction makeStopwordString(stopwords) {\n  return ' ' + stopwords.join(' ') + ' ';\n}\n\n// setImmediate executes callback AFTER promise handlers.\n// Without it, exceptions in callback may be caught by Promise.\nfunction nextTick(fn, args) {\n  if (fn) {\n    fn.apply(null, args);\n  }\n}\n\n// offsets must be zero-padded to 8 chars\nfunction zeroPad(str) {\n  var pad = '00000000'; // 8 zeros\n  return String(pad + str).slice(-pad.length);\n}\nfunction normalize(word) {\n  return word.toLowerCase().replace(/\\s+/g, '_');\n}\nfunction isStopword(stopwordsStr, word) {\n  return stopwordsStr.indexOf(' ' + word.toLowerCase() + ' ') >= 0;\n}\nfunction tokenizer(str) {\n  return str.split(/\\W+/);\n}\nfunction uniq(arr) {\n  return arr.filter((v, i) => arr.indexOf(v) === i);\n}\nfunction diff(arr, subArr) {\n  return arr.filter(x => !subArr.includes(x));\n}\n\n// flatten an array - 1-deep only!\nfunction flat(arr) {\n  return [].concat.apply([], arr);\n}\n\n// get random sample from array (note: count << array.length)\n// https://stackoverflow.com/a/37834217\nfunction sample(array, count) {\n  var indices = [];\n  var result = new Array(count);\n  for (let i = 0; i < count; i++) {\n    let j = Math.floor(Math.random() * (array.length - i) + i);\n    let val = array[indices[j] === undefined ? j : indices[j]];\n    if (val === undefined) {\n      result.length = i;\n      break;\n    }\n    result[i] = val;\n    indices[j] = indices[i] === undefined ? i : indices[i];\n  }\n  return result;\n}\nfunction isString(s) {\n  return typeof s === 'string';\n}\nfunction reject(arr, predicate) {\n  return arr.filter(item => !predicate(item));\n}\nfunction prepText(text) {\n  if (Array.isArray(text)) return text;\n  var deduped = uniq(tokenizer(text));\n  if (!this.options.stopwords) return deduped;\n  return reject(deduped, isStopword.bind(null, isString(this.options.stopwords) ? this.options.stopwords : stopwordsStr));\n}\n\n// node <= 6 polyfill\n// @see https://github.com/tc39/proposal-object-values-entries/blob/master/polyfill.js\nconst reduce = Function.bind.call(Function.call, Array.prototype.reduce);\nconst isEnumerable = Function.bind.call(Function.call, Object.prototype.propertyIsEnumerable);\nconst concat = Function.bind.call(Function.call, Array.prototype.concat);\nconst keys = Reflect.ownKeys;\nif (!Object.values) {\n  Object.values = function values(O) {\n    return reduce(keys(O), (v, k) => concat(v, typeof k === 'string' && isEnumerable(O, k) ? [O[k]] : []), []);\n  };\n}\nmodule.exports = {\n  isString,\n  zeroPad,\n  stopwords,\n  nextTick,\n  normalize,\n  tokenizer,\n  prepText,\n  makeStopwordString,\n  uniq,\n  diff,\n  flat,\n  sample\n};","map":{"version":3,"names":["stopwords","require","words","stopwordsStr","makeStopwordString","join","nextTick","fn","args","apply","zeroPad","str","pad","String","slice","length","normalize","word","toLowerCase","replace","isStopword","indexOf","tokenizer","split","uniq","arr","filter","v","i","diff","subArr","x","includes","flat","concat","sample","array","count","indices","result","Array","j","Math","floor","random","val","undefined","isString","s","reject","predicate","item","prepText","text","isArray","deduped","options","bind","reduce","Function","call","prototype","isEnumerable","Object","propertyIsEnumerable","keys","Reflect","ownKeys","values","O","k","module","exports"],"sources":["C:/Users/shail/OneDrive/Documents/GitHub/form-builder/form-builder/node_modules/wordpos/src/util.js"],"sourcesContent":["/**\r\n* util.js\r\n*\r\n* Copyright (c) 2012-2019 mooster@42at.com\r\n* https://github.com/moos/wordpos\r\n*\r\n* Released under MIT license\r\n*/\r\n\r\nlet stopwords = require('../lib/natural/util/stopwords').words;\r\nlet stopwordsStr = makeStopwordString(stopwords);\r\n\r\nfunction makeStopwordString(stopwords) {\r\n  return ' ' + stopwords.join(' ') + ' ';\r\n}\r\n\r\n// setImmediate executes callback AFTER promise handlers.\r\n// Without it, exceptions in callback may be caught by Promise.\r\nfunction nextTick(fn, args) {\r\n  if (fn) {\r\n    fn.apply(null, args);\r\n  }\r\n}\r\n\r\n// offsets must be zero-padded to 8 chars\r\nfunction zeroPad(str) {\r\n  var pad = '00000000'; // 8 zeros\r\n  return String(pad + str).slice(-pad.length);\r\n}\r\n\r\nfunction normalize(word) {\r\n  return word.toLowerCase().replace(/\\s+/g, '_');\r\n}\r\n\r\nfunction isStopword(stopwordsStr, word) {\r\n  return stopwordsStr.indexOf(' '+ word.toLowerCase() +' ') >= 0;\r\n}\r\n\r\nfunction tokenizer(str) {\r\n  return str.split(/\\W+/);\r\n}\r\n\r\nfunction uniq(arr) {\r\n  return arr.filter((v, i) => arr.indexOf(v) === i);\r\n}\r\n\r\nfunction diff(arr, subArr) {\r\n  return arr.filter(x => !subArr.includes(x));\r\n}\r\n\r\n// flatten an array - 1-deep only!\r\nfunction flat(arr) {\r\n  return [].concat.apply([], arr);\r\n}\r\n\r\n// get random sample from array (note: count << array.length)\r\n// https://stackoverflow.com/a/37834217\r\nfunction sample(array, count) {\r\n  var indices = [];\r\n  var result = new Array(count);\r\n  for (let i = 0; i < count; i++ ) {\r\n      let j = Math.floor(Math.random() * (array.length - i) + i);\r\n      let val = array[indices[j] === undefined ? j : indices[j]];\r\n      if (val === undefined) {\r\n        result.length = i;\r\n        break;\r\n      }\r\n      result[i] = val;\r\n      indices[j] = indices[i] === undefined ? i : indices[i];\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction isString(s) {\r\n  return typeof s === 'string';\r\n}\r\n\r\nfunction reject(arr, predicate) {\r\n  return arr.filter(item => !predicate(item))\r\n}\r\n\r\nfunction prepText(text) {\r\n  if (Array.isArray(text)) return text;\r\n  var deduped = uniq(tokenizer(text));\r\n  if (!this.options.stopwords) return deduped;\r\n  return reject(deduped, isStopword.bind(null,\r\n    isString(this.options.stopwords) ? this.options.stopwords : stopwordsStr\r\n  ));\r\n}\r\n\r\n// node <= 6 polyfill\r\n// @see https://github.com/tc39/proposal-object-values-entries/blob/master/polyfill.js\r\nconst reduce = Function.bind.call(Function.call, Array.prototype.reduce);\r\nconst isEnumerable = Function.bind.call(Function.call, Object.prototype.propertyIsEnumerable);\r\nconst concat = Function.bind.call(Function.call, Array.prototype.concat);\r\nconst keys = Reflect.ownKeys;\r\nif (!Object.values) {\r\n  Object.values = function values(O) {\r\n    return reduce(keys(O), (v, k) => concat(v, typeof k === 'string' && isEnumerable(O, k) ? [O[k]] : []), []);\r\n  };\r\n}\r\n\r\n\r\nmodule.exports = {\r\n  isString,\r\n  zeroPad,\r\n  stopwords,\r\n  nextTick,\r\n  normalize,\r\n  tokenizer,\r\n  prepText,\r\n  makeStopwordString,\r\n  uniq,\r\n  diff,\r\n  flat,\r\n  sample\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}